# 后端快速启动指南

## 🚀 三步启动

### 步骤 1: 安装依赖

```powershell
cd backend
npm install
```

### 步骤 2: 配置环境变量

创建 `.env` 文件（Windows 系统使用记事本）：

```powershell
# 使用记事本创建 .env 文件
notepad .env
```

复制以下内容到 `.env` 文件：

```env
# 服务器配置
PORT=8000
NODE_ENV=development

# 数据库配置
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=toefl_user
DB_PASSWORD=mojz168168-
DB_DATABASE=ai_xsread

# JWT配置
JWT_SECRET=your-secret-key-change-in-production-2025
JWT_EXPIRES_IN=2h
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production-2025
JWT_REFRESH_EXPIRES_IN=7d

# 文件上传配置
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880

# CORS配置
CORS_ORIGIN=http://localhost:3008
```

### 步骤 3: 启动服务

```powershell
npm run dev
```

## ✅ 启动成功

看到以下输出表示成功：

```
🔍 正在测试数据库连接...
✅ 数据库连接成功

========================================
🚀 文字之境后端服务启动成功！
========================================
📍 服务地址: http://localhost:8000
🌍 环境模式: development
📊 API文档: http://localhost:8000/api/health
========================================
```

## 🧪 测试接口

在浏览器中访问：

```
http://localhost:8000/api/health
```

应该看到：
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "status": "healthy"
  }
}
```

## 📚 更多信息

- 详细文档: [README.md](./README.md)
- API接口: [docx/API接口设计文档.md](../docx/API接口设计文档.md)
- 完整指南: [docx/Windows本地开发快速启动指南.md](../docx/Windows本地开发快速启动指南.md)

## 🐛 遇到问题？

### 数据库连接失败
- 确认 MySQL 服务已启动
- 检查数据库名称是否为 `ai_xsread`
- 访问 http://127.0.0.1/phpmyadmin/ 测试连接

### 端口被占用
```powershell
# 修改 .env 文件中的 PORT 值
PORT=8001
```

### 模块未找到
```powershell
# 重新安装依赖
rm -rf node_modules
npm install
```

---

**🎉 祝开发顺利！**

