# ============================================
# 文字之境 - 后端服务环境变量配置示例
# ============================================
# 
# 使用说明:
# 1. 复制此文件为 .env
# 2. 修改所有配置项为实际值
# 3. 确保 .env 文件已添加到 .gitignore
# 4. 生产环境必须使用强密码和密钥
#
# ============================================

# ============================================
# 服务器配置
# ============================================
PORT=8005
NODE_ENV=development

# ============================================
# 数据库配置 (必填)
# ============================================
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=your_database_user
DB_PASSWORD=your_secure_database_password_here
DB_DATABASE=ai_xsread

# 数据库连接池配置 (可选)
DB_CONNECTION_LIMIT=20
DB_QUEUE_LIMIT=0
DB_ACQUIRE_TIMEOUT=30000
DB_TIMEOUT=60000
DB_CONNECT_TIMEOUT=10000
DB_DEBUG=false

# ============================================
# JWT配置 (必填 - 生产环境必须修改)
# ============================================
# 注意: JWT密钥必须是强随机字符串,长度至少32个字符
# 生成方法: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_at_least_32_characters_long_change_in_production
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_at_least_32_characters_long_change_in_production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# CORS配置
# ============================================
# 多个域名用逗号分隔
CORS_ORIGIN=http://localhost:3008,http://127.0.0.1:3008

# ============================================
# 文件上传配置
# ============================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880

# ============================================
# 读写分离配置 (可选)
# ============================================
# 如果需要数据库读写分离,请配置以下选项
DB_SLAVE_ENABLED=false
DB_SLAVE_HOST=localhost
DB_SLAVE_PORT=3306
DB_SLAVE_USER=readonly_user
DB_SLAVE_PASSWORD=readonly_password
DB_SLAVE_CONNECTION_LIMIT=100

# ============================================
# 数据库监控配置 (可选)
# ============================================
DB_MONITOR_ENABLED=true
DB_MONITOR_INTERVAL=60000
DB_WARNING_THRESHOLD=0.8
DB_CRITICAL_THRESHOLD=0.9

# ============================================
# 负载均衡配置 (可选)
# ============================================
DB_LOAD_BALANCE=round-robin
DB_RETRY_TIMES=3
DB_RETRY_DELAY=1000

# ============================================
# 日志配置 (可选)
# ============================================
LOG_DIR=./logs
LOG_LEVEL=info
LOG_MAX_FILES=30d
LOG_MAX_SIZE=20m
LOG_DB_ENABLED=false

# ============================================
# Redis配置 (可选 - 如果使用缓存)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# 安全提示
# ============================================
# 1. 永远不要将 .env 文件提交到版本控制系统
# 2. 生产环境必须使用强密码和密钥
# 3. JWT密钥长度至少32个字符
# 4. 定期更换密码和密钥
# 5. 使用环境变量管理工具(如 dotenv-vault)保护敏感信息

