# åå°ç®¡ç†ç³»ç»Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ é—®é¢˜ä¿®å¤è®°å½•

### é—®é¢˜æè¿°
åå°å‰ç«¯å¯åŠ¨å¤±è´¥ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
1. **PostCSS é…ç½®é”™è¯¯**: Tailwind CSS v4 é…ç½®æ ¼å¼ä¸å…¼å®¹
2. **é™æ€èµ„æºåŠ è½½å¤±è´¥**: 500 Internal Server Error

### ä¿®å¤å†…å®¹

#### 1. ä¿®å¤ PostCSS é…ç½® (`admin-frontend/postcss.config.js`)
```javascript
import tailwindcss from 'tailwindcss'
import autoprefixer from 'autoprefixer'

export default {
  plugins: [
    tailwindcss,
    autoprefixer,
  ],
}
```

#### 2. ä¿®å¤ Tailwind å¯¼å…¥æ–¹å¼ (`admin-frontend/src/assets/styles/index.scss`)
```scss
@import "tailwindcss";
```

#### 3. æ›´æ–° Tailwind é…ç½® (`admin-frontend/tailwind.config.js`)
```javascript
import { defineConfig } from 'tailwindcss'

export default defineConfig({
  // ... é…ç½®å†…å®¹
})
```

#### 4. åˆ›å»º SCSS å˜é‡æ–‡ä»¶ (`admin-frontend/src/assets/styles/variables.scss`)
- æ·»åŠ äº†é¢œè‰²ã€é—´è·ã€å­—ä½“ç­‰å…¨å±€å˜é‡

---

## ğŸš€ å¯åŠ¨æ­¥éª¤

### æ­¥éª¤ 1: é…ç½®ç¯å¢ƒå˜é‡

#### åç«¯ç¯å¢ƒå˜é‡ (`admin-backend/.env`)
```bash
# æœåŠ¡å™¨é…ç½®
PORT=8001
NODE_ENV=development

# æ•°æ®åº“é…ç½®
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=123456
DB_NAME=ai_xsread

# JWTé…ç½®
JWT_SECRET=35fbb83a9fab22a848fde840514d8217607be8d7a66e0bce9341cdd04f09913c
JWT_EXPIRES_IN=2h
JWT_REFRESH_EXPIRES_IN=7d

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=2097152

# CORSé…ç½®
CORS_ORIGIN=http://localhost:3010,http://127.0.0.1:3010

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
```

#### å‰ç«¯ç¯å¢ƒå˜é‡ (`admin-frontend/.env`)
```bash
# API é…ç½®
VITE_APP_BASE_API=/api

# åº”ç”¨é…ç½®
VITE_APP_TITLE=æ–‡å­—ä¹‹å¢ƒåå°ç®¡ç†ç³»ç»Ÿ
VITE_APP_VERSION=1.0.0
```

### æ­¥éª¤ 2: å¯åŠ¨åç«¯ API

```powershell
# è¿›å…¥åç«¯ç›®å½•
cd admin-backend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**åç«¯å¯åŠ¨æˆåŠŸæ ‡å¿—**:
```
========================================
  ğŸš€ æ–‡å­—ä¹‹å¢ƒåå°ç®¡ç†APIæœåŠ¡
========================================
  ç¯å¢ƒ: development
  ç«¯å£: 8001
  åœ°å€: http://localhost:8001
  æ–‡æ¡£: http://localhost:8001/api
========================================
```

### æ­¥éª¤ 3: å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰

```powershell
# è¿›å…¥å‰ç«¯ç›®å½•
cd admin-frontend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å‰ç«¯å¯åŠ¨æˆåŠŸæ ‡å¿—**:
```
  VITE v7.x.x  ready in xxx ms

  âœ  Local:   http://localhost:3010/
  âœ  Network: use --host to expose
  âœ  press h + enter to show help
```

### æ­¥éª¤ 4: è®¿é—®ç³»ç»Ÿ

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: `http://localhost:3010`

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ç«¯å£å·²è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `EADDRINUSE: address already in use`

**è§£å†³æ–¹æ³•**:
```powershell
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :8001
netstat -ano | findstr :3010

# ç»“æŸè¿›ç¨‹ï¼ˆæ›¿æ¢ PID ä¸ºå®é™…çš„è¿›ç¨‹IDï¼‰
taskkill /F /PID <PID>
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `âŒ æ•°æ®åº“è¿æ¥å¤±è´¥`

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤ MySQL æœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®
3. éªŒè¯æ•°æ®åº“ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
4. ç¡®è®¤æ•°æ®åº“ `ai_xsread` å·²åˆ›å»º

### 3. Tailwind CSS é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `Internal server error: [postcss]`

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤å·²æŒ‰ç…§æœ¬æ–‡æ¡£ä¿®å¤äº†é…ç½®æ–‡ä»¶
2. åˆ é™¤ `node_modules` å¹¶é‡æ–°å®‰è£…:
```powershell
cd admin-frontend
Remove-Item -Recurse -Force node_modules
npm install
```

### 4. é™æ€èµ„æº 404/500 é”™è¯¯

**è§£å†³æ–¹æ³•**:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨
3. æ£€æŸ¥ vite.config.js é…ç½®æ˜¯å¦æ­£ç¡®

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
admin-backend/           # åå°ç®¡ç† API
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ routes/         # è·¯ç”±
â”‚   â”œâ”€â”€ middlewares/    # ä¸­é—´ä»¶
â”‚   â””â”€â”€ config/         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ .env               # ç¯å¢ƒå˜é‡ï¼ˆéœ€åˆ›å»ºï¼‰
â””â”€â”€ package.json

admin-frontend/         # åå°ç®¡ç†å‰ç«¯
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ api/           # API æ¥å£
â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ assets/        # é™æ€èµ„æº
â”œâ”€â”€ .env              # ç¯å¢ƒå˜é‡ï¼ˆéœ€åˆ›å»ºï¼‰
â””â”€â”€ package.json
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### Vite ä»£ç†é…ç½®

å‰ç«¯å¼€å‘æœåŠ¡å™¨é€šè¿‡ä»£ç†å°† API è¯·æ±‚è½¬å‘åˆ°åç«¯ï¼š

```javascript
// vite.config.js
server: {
  port: 3010,
  proxy: {
    '/api': {
      target: 'http://localhost:8001',  // åç«¯åœ°å€
      changeOrigin: true
    }
  }
}
```

### API è¯·æ±‚é…ç½®

```javascript
// src/utils/request.js
baseURL: import.meta.env.VITE_APP_BASE_API || '/api'
```

---

## ğŸ“ å¼€å‘è¯´æ˜

### é»˜è®¤ç®¡ç†å‘˜è´¦å·

é¦–æ¬¡è¿è¡Œéœ€è¦åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·ï¼š

```powershell
cd admin-backend
node scripts/init-admin.js
```

### ä»£ç çƒ­æ›´æ–°

- âœ… åç«¯: ä½¿ç”¨ nodemon è‡ªåŠ¨é‡å¯
- âœ… å‰ç«¯: Vite HMR çƒ­æ¨¡å—æ›¿æ¢

ä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… é…ç½®ç¯å¢ƒå˜é‡
2. âœ… ä¿®å¤ Tailwind CSS é…ç½®
3. âœ… å¯åŠ¨åç«¯æœåŠ¡
4. âœ… å¯åŠ¨å‰ç«¯æœåŠ¡
5. ğŸ”„ è®¿é—® http://localhost:3010
6. ğŸ”„ ç™»å½•åå°ç®¡ç†ç³»ç»Ÿ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
- æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
- ç½‘ç»œè¯·æ±‚çŠ¶æ€
- æµè§ˆå™¨å¼€å‘è€…å·¥å…·

---

**æ›´æ–°æ—¶é—´**: 2025-10-31  
**ç‰ˆæœ¬**: 1.0.0

